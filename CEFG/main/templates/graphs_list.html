{% extends 'base.html' %}
{% load static %}

{% block title %}Saved Graphs — CEFG{% endblock %}

{% block head_extra %}
<link rel="stylesheet" href="{% static 'styles/graphs_list.css' %}">
{% endblock %}

{% block content %}
<div class="wrap">
  <div class="paper">
    <h1 class="section-title">Saved graphs</h1>
    <p class="lead">Hover any item to preview the graph. Click to open or inspect.</p>

    <ul id="graphs-list">
      {% for g in graphs %}
        <li class="graph-item" data-id="{{ g.id }}">
          <strong>#{{ g.id }}</strong> — {{ g.text|truncatechars:80 }}
        </li>
      {% empty %}
        <li class="empty-state">No saved graphs yet. Go to the home page to create one!</li>
      {% endfor %}
    </ul>
    <div class="back-link-container">
      <a href="{% url 'main:home' %}">← Back to inference</a>
      <a href="{% url 'main:filter_by_type' %}">Filter By Node Type</a>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/graphs_list.js' %}" defer></script>
{% endblock %}
